{% load static %}
<div id="profile-tabs-container">
  <div class="d-flex justify-content-between align-items-center pt-3 mt-4">
    <h3 class="h5 text-black">Followers</h3>
  </div>

  <div class="bg-white rounded-5 p-3 mt-4 shadow-sm">
    {% for follower in followers_list %}
      <div class="d-flex align-items-center justify-content-between py-3 {% if not forloop.last %}border-bottom{% endif %}">

        <a href="{% url 'user:profile_detail' follower.username %}"
           hx-get="{% url 'user:profile_detail' follower.username %}"
           hx-target="#main-content-area"
           hx-push-url="true"
           class="d-flex align-items-center gap-3 text-decoration-none text-black">
          <img src="{% if follower.profile.profile_pic %}{{ follower.profile.profile_pic.url }}{% else %}{% static 'assets/Group 8.png' %}{% endif %}"
                class="rounded-circle" width="45" height="45" style="object-fit: cover;">
          <div>
            <p class="mb-0 fw-bold">{{ follower.username }}</p>
            <small class="text-muted">{{ follower.profile.bio|truncatechars:40 }}</small>
          </div>
        </a>

        {% if request.user != follower %}
        <button class="btn {% if follower.id in current_user_following_ids %}btn-primary{% else %}btn-outline-primary{% endif %} btn-sm rounded-pill px-3"
                hx-post="{% url 'user:follow_user' follower.username %}"
                hx-target="this"
                hx-swap="outerHTML">
            {% if follower.id in current_user_following_ids %}Unfollow{% else %}Follow{% endif %}
        </button>
        {% endif %}
      </div>
    {% empty %}
      <p class="text-center text-muted py-4">No followers yet.</p>
    {% endfor %}
  </div>
</div>